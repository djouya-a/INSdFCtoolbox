# Network science Toolbox

### TS2FC

The ```TS2FC``` function takes as input the time-series, then it computes the pearson correlation between pair of nodes and generates the time-averaged static FC (functional connectivity) matrix as output with size nxn where n is the number of nodes. The FC gives information on the apatial aspect of time-series and quantifies the degree of similarity between pair of nodes. 


<img src="images/TS2FC.png" width="800">


### TS2dFCstream

Time-series containe important temporal information which by time-averaged static FC we may miss these informations. One solution to extract the temporal information from time-series is by applying a sliding window approach. The ```TS2dFCstream``` function takes as input the time-series, a fixed size of a window (w), and a length of sliding step (lag). The output of this function is a stream of FC matrices as shown in below cartoon. As you can see in 5 FC matrices, the pairwise correlation between nodes varies by time and it's different for each window. However, the above figure represents only the average of these FCs. The in the below figure, last panel you can also see the 2D representation for each link (between pair of nodes). 

<img src="images/TS2dFCstream.png" width="500">


### dFCstream2dFC

Sometimes it's important to know how frequent different events (spatial correlations) is repeated along the time-series. The ```dFCstream2dFC``` function takes as input the dFcstream (in 2D or 3D) generated by ```TS2dFCstream``` function and computes a FCD matrix which contains the temporal information of time-series. In below cartoon you can see the spatial events within and between yellow section of time-series are highly correlated or in the other words, the spatial network for a short period of time-series has been repeated along time. On the other hand, the pink windows are rare events which their spatial pattern doesn't correlate with other periods of time. 

<img src="images/dFCstream2dFC.png" width="800">


### dFCstream2MC

FC quantifies the spatial aspect of time-series, while FCD quantifies the temporal aspect. The ```dFCstream2MC``` function takes as input the dFCstream and generates the MC (meta-connectivity) matrix as output. MC matrix contains the value of correlation between pair of links and since already in link time-series (or streams) the temporal informations are extracted, the MC matrix can provide the spatio-temporal information on the time-series. The sise of MC is lxl where l is the total number of links in a network with n nodes (l=n(n-1)/2).

<img src="images/dFCstream2MC.png" width="800">


### dFCstream2Trimers

The MC matrix shown in below is identical with the one above with different colormap. Here we will introduce the concept of trimers. As it was mentioned in the previous paragraph, each MC enteries is the correlation between pair of links where the two links can be driven from 4 nodes (tetramers) or 3 nodes (trimers) where one of the nodes is shared between the two links. Since the MC method is a higher-order correlation, by increasing the number of nodes in a network the number of links may grow exponentially therefore it will be cumbersome to interpret the results. The objective of trimers method was to summaries the spatio-temporal information of time-series drived from MC, on the node-level and all trimers can be stored in a 3D matrix with size of nxnxn. 
In below cartoon each entrie of MC (on the left) has been identically mapped in trimers format (in the middle). The FC quantifies the direct link between two nodes while trimers quantifies the indirect path between two nodes through a 3rd node in the middle, therefore provides redundant information on the network. If a direct path between two nodes are strongly positive or negative, the value of indirect path (by trimers method) would be approximately equal to the direct path, like first (2-1-3) and third trimer (1-3-2, below middle figure). However, cases can be find in a network like second trimer (1-2-3) where the magnitude of direct path derived from FC differs by indirect path derived from trimers. (trimer 1-2-3: direct path is negative while the indirect path between node 1-3 is positive). 

<img src="images/dFCstream2Trimers.png" width="800">



